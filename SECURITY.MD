# üõ°Ô∏è Pipelines de Seguridad (SAST y DAST)

## üèóÔ∏è Workflows Implementados

1. **`.github/workflows/static-analysis.yml`** - An√°lisis de seguridad est√°tico
2. **`.github/workflows/deploy.yml`** - Despliegue automatizado en Heroku
3. **`.github/workflows/dynamic-analysis.yml`** - An√°lisis de seguridad din√°mico

---

## üîç An√°lisis Est√°tico de Seguridad (SAST)

### Overview

El an√°lisis est√°tico se ejecuta en **cada push a master** e incluye m√∫ltiples herramientas especializadas que analizan diferentes aspectos de seguridad del c√≥digo y dependencias.

**1. Gitleaks - Detecci√≥n de Secretos:** Identificar credenciales, API keys y secretos expuestos en el c√≥digo fuente.

**2. Snyk - Software Composition Analysis (SCA):** An√°lisis de vulnerabilidades en dependencias de terceros.

**3. Semgrep - Static Application Security Testing:** An√°lisis est√°tico del c√≥digo fuente para identificar vulnerabilidades de seguridad.

**4. Trivy - Container Security Scanning:** An√°lisis de vulnerabilidades en imÔøΩgenes Docker.

---

## üöÄ Despliegue Automatizado

### Configuraci√≥n del Deployment

**Trigger**: Se ejecuta autom√°ticamente al completar el an√°lisis est√°tico, independientemente de su resultado.

**‚ö†Ô∏è Configuraci√≥n de Laboratorio**: En este proyecto, por tratarse de un entorno de laboratorio educativo, se permite el despliegue incluso si el an√°lisis est√°tico detecta vulnerabilidades. Esto facilita probar todo el flujo completo hasta las pruebas din√°micas.

**Para entornos productivos**, se recomienda agregar la condici√≥n de √©xito:

```yaml
jobs:
  deploy-heroku:
    name: Deploy Heroku
    runs-on: ubuntu-latest
    if: ${{ github.event.workflow_run.conclusion == 'success' }} # Agregar esta l√≠nea
```

**Caracter√≠sticas**:

- **Plataforma**: Heroku Container Registry
- **M√©todo**: Docker deployment
- **Prerequisito**: An√°lisis est√°tico exitoso (en entornos productivos)

---

## üïµÔ∏è An√°lisis Din√°mico de Seguridad (DAST)

### Overview

El an√°lisis din√°mico se ejecuta **despu√©s del despliegue exitoso** y realiza pruebas de penetraci√≥n automatizadas contra la aplicaci√≥n en ejecuci√≥n.

**1. OWASP ZAP - Dynamic Application Security Testing:** Escaneo completo de vulnerabilidades web en tiempo de ejecuci√≥n.

**2. Nuclei - Vulnerability Scanner:** Escaneo r√°pido con templates especializados de vulnerabilidades.

---

## üìä Gesti√≥n Centralizada de Vulnerabilidades

Todos los resultados de los escaneos son enviados autom√°ticamente a DefectDojo para centralizar la gesti√≥n del ciclo de vida de vulnerabilidades detectadas.

---

### Referencias de Herramientas Utilizadas

- [Gitleaks](https://github.com/zricethezav/gitleaks) - Secret Detection
- [Snyk](https://snyk.io/) - Software Composition Analysis
- [Semgrep](https://semgrep.dev/) - Static Analysis
- [Trivy](https://trivy.dev/) - Container Security
- [OWASP ZAP](https://owasp.org/www-project-zap/) - Dynamic Analysis
- [Nuclei](https://nuclei.projectdiscovery.io/) - Vulnerability Scanner
- [DefectDojo](https://defectdojo.org/) - Vulnerability Management
